# Построение сети ЦОД для связности двух сайтов по L2 и L3.

В данной работе рассмотрим обеспечение связности между двумя сайтами с использованием VXLAN EVPN, и используя технологии которые мы рассматривали в лабах, такие как ESI multihomming, l2vni, l3vni.

Для упрощения схемы мы не будем дублировать некоторые устройства, такие как SPINE или PE.

Фабрика строится на Juniper vQFX

---
## Схема:
![img_1.png](scheme.png)

На каждом сайте будут по 2 лифа, к которым будут подключены роутеры для выхода во вне, а также хосты. По одному хосту на каждом сайте мы вынесем в обзий L2 домен, для проверки L2 связности, и по одному хосту оставим каждый в своем влане, для проверки L3 связности. Маршрутизаторы будут подключаться с помощью агрегата. Так же на каждом сайте будет по одному бордер лифу, для подключения к суперспайну и обеспечения связности между сайтами.

## Адресация:

В качестве сетей для распределения выбраны сети:\
P2P FABRIC- 10.100.0.0/24\
Loopback - 10.200.0.0/24\
P2P WAN- 100.64.0.0/24\
CLIENT_1 - 100.64.10.0/24\
CLIENT_2 - 100.64.20.0/24\
CLIENT_3 - 100.64.30.0/24 

### Распределение адресации:

P2P FABRIC:

| Устройство 1 | Интерфейс | Устройство 2 | Интерфейс | IP-адрес устройства 1 | IP-адрес устройства 2 |
|--------------|-----------|--------------|-----------|-----------------------|-----------------------|
| SITE-A-SPINE-1      | xe-0/0/0      | SITE-A-LEAF-1       | xe-0/0/0      | 10.100.0.0/31         | 10.100.0.1/31  |
| SITE-A-SPINE-1     | xe-0/0/1      | SITE-A-LEAF-2       | xe-0/0/0      | 10.100.0.2/31         | 10.100.0.3/31  |
| SITE-A-SPINE-1     | xe-0/0/2      | SITE-A-BLEAF-1       | xe-0/0/0      | 10.100.0.4/31         | 10.100.0.5/31  |
| SITE-B-SPINE-1      | xe-0/0/0      | SITE-B-LEAF-1       | xe-0/0/0      | 10.100.0.6/31         | 10.100.0.7/31  |
| SITE-B-SPINE-1      | xe-0/0/1      | SITE-B-LEAF-2       | xe-0/0/0      | 10.100.0.8/31         | 10.100.0.9/31  |
| SITE-B-SPINE-1      | xe-0/0/2      | SITE-B-BLEAF-1       | xe-0/0/0      | 10.100.0.10/31         | 10.100.0.11/31  |
| SUPER-SPINE      | xe-0/0/0      | SITE-A-BLEAF-1       | xe-0/0/1      | 10.100.0.12/31         | 10.100.0.13/31  |
| SUPER-SPINE      | xe-0/0/1      | SITE-B-BLEAF-1       | xe-0/0/1      | 10.100.0.14/31         | 10.100.0.15/31  |
